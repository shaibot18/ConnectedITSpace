!function(e){var a={};function r(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=a,r.d=function(e,a,t){r.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:t})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(a,"a",a),a},r.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},r.p="",r(r.s=0)}([function(e,a){angular.module("app.directive",[]),angular.module("app",["ui.router","app.directive"]).config(function(e,a){a.otherwise("/"),1==window.user.role?(a.when("/","/admin"),e.state("editManager",{url:"/admin/editManager",templateUrl:"admin/editManager.html",controller:"EditManager.AdminController",controllerAs:"vm",data:{activeTab:"new"}}).state("home",{url:"/admin",templateUrl:"admin/index.html",controller:"Index.AdminController",controllerAs:"vm",data:{activeTab:"home"}}).state("addManager",{url:"/admin/addManager",templateUrl:"admin/addManager.html",controller:"AddManager.AdminController",controllerAs:"vm",data:{activeTab:"addManager"}}).state("userManagement",{url:"/admin/userManagement",templateUrl:"admin/userManagement.html",controller:"UserManagement.AdminController",controllerAs:"vm",data:{activeTab:"userManagement"}})):2==window.user.role&&(a.when("/","/manager"),e.state("dbControl",{url:"/dbc",templateUrl:"manager/dbc.html",controller:"Dbc.ManagerController",controllerAs:"vm",data:{activeTab:"dbc"}}).state("home",{url:"/manager",templateUrl:"manager/index.html",controller:"Index.ManagerController",controllerAs:"vm",data:{activeTab:"home"}}).state("roomInfo",{url:"/manager/roomInfo/:roomId",templateUrl:"manager/roomInfo.html",controller:"RoomInfo.ManagerController",data:{activeTab:"roomInfo"}}).state("roomStat",{url:"/manager/roomStat/:roomId",templateUrl:"manager/roomStat.html",controller:"RoomStatController",data:{activeTab:"roomStat"}}).state("addRoom",{url:"/manager/addRoom",templateUrl:"manager/addRoom.html",controller:"AddRoom.ManagerController",controllerAs:"vm"}).state("editRoom",{url:"/manager/editRoom/:roomId",templateUrl:"manager/editRoom.html",controller:"EditRoom.ManagerController",controllerAs:"vm",data:{activeTab:"roomInfo"}}))}).run(function(e,a,r){console.log("Run function run"),e.defaults.headers.common.Authorization=`Bearer ${r.jwtToken}`,a.$on("$stateChangeSuccess",(e,r,t,o,n)=>{a.activeTab=r.data.activeTab}),e.user=r.user,a.user=r.user}),$(()=>{console.log("Manual function run"),$.get("/app/user",e=>{window.user=e,console.log("window.user is "),console.log(e),$("#userName").html(e.firstName)}),$.get("/app/token",e=>{window.jwtToken=e,angular.bootstrap(document,["app"])})})}]);